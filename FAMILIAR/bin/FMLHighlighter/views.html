<div class="code"><pre><span class="n">fmGrid</span> <span class="o">=</span> <span class="kd">FM</span> <span class="o">(</span><span class="s">&quot;grid.m&quot;</span><span class="o">)</span>
<span class="n">fmAlgo</span> <span class="o">=</span> <span class="kd">FM</span> <span class="o">(</span><span class="s">&quot;algo.tvl&quot;</span><span class="o">)</span>
<span class="n">fmProto</span> <span class="o">=</span> <span class="kd">FM</span> <span class="o">(</span><span class="s">&quot;proto.xml&quot;</span><span class="o">)</span>
<span class="n">fmMI</span> <span class="o">=</span> <span class="kd">FM</span> <span class="o">(</span><span class="s">&quot;MI.fml&quot;</span><span class="o">)</span>
<span class="n">cst</span> <span class="o">=</span> <span class="kd">constraints</span> <span class="o">(</span><span class="n">KerberosAuth</span> <span class="o">-&gt;</span> <span class="n">KDC</span> <span class="o">;</span> <span class="o">)</span>
<span class="n">fmService</span> <span class="o">=</span> <span class="kd">aggregate</span> <span class="o">{</span> <span class="n">fmAlgo</span> <span class="n">fmGrid</span> <span class="n">fmProto</span> <span class="n">fmMI</span> <span class="o">}</span> <span class="kd">withMapping</span> <span class="n">cst</span>

<span class="n">ftsSecurity</span> <span class="o">=</span> <span class="n">GridDeployment</span><span class="o">.</span><span class="n">Authentification</span><span class="o">.*</span> <span class="o">++</span> <span class="o">{</span> <span class="n">GridDeployment</span><span class="o">.</span><span class="n">Authentification</span> <span class="o">}</span> 
<span class="o">++</span> <span class="o">{</span> <span class="n">MIService</span> <span class="o">}</span> <span class="o">++</span> <span class="n">NetworkProtocol</span><span class="o">.*</span> <span class="o">++</span> <span class="o">{</span>  <span class="n">NetworkProtocol</span> <span class="o">}</span> 
<span class="o">++</span> <span class="o">{</span> <span class="n">MedicalImage</span><span class="o">.</span><span class="n">MetaData</span> <span class="o">}</span> <span class="o">++</span> <span class="n">MedicalImage</span><span class="o">.</span><span class="n">MetaData</span><span class="o">.*</span> 
<span class="n">fmViewSecurity</span> <span class="o">=</span> <span class="nd">@PYaS</span><span class="o">[</span><span class="kd">slice</span><span class="o">]</span> <span class="n">fmService</span> <span class="nd">@PYaS</span><span class="o">[</span><span class="kd">including</span><span class="o">]</span> <span class="n">ftsSecurity</span>

<span class="n">ftsSecurity2</span> <span class="o">=</span> <span class="n">MIAlgorithm</span><span class="o">.*</span> <span class="o">++</span> <span class="o">{</span> <span class="n">MIAlgorithm</span> <span class="o">}</span>  
<span class="o">++</span> <span class="o">(</span><span class="n">MedicalImage</span><span class="o">.*</span> <span class="o">--</span> <span class="o">({</span> <span class="n">MetaData</span><span class="o">}</span> <span class="o">++</span> <span class="n">MetaData</span><span class="o">.*))</span> 
<span class="o">++</span> <span class="o">({</span> <span class="n">GridDeployment</span><span class="o">.*</span> <span class="o">}</span> <span class="o">--</span> <span class="o">({</span> <span class="n">Authentification</span><span class="o">}</span> <span class="o">++</span> <span class="n">Authentification</span><span class="o">.*))</span> 
<span class="n">fmViewSecurity2</span> <span class="o">=</span> <span class="nd">@PYaS</span><span class="o">[</span><span class="kd">slice</span><span class="o">]</span> <span class="n">fmService</span> <span class="nd">@PYaS</span><span class="o">[</span><span class="kd">excluding</span><span class="o">]</span> <span class="n">ftsSecurity2</span>

<span class="n">viewMI</span> <span class="o">=</span> <span class="o">({</span><span class="n">MIService</span> <span class="o">}</span> <span class="o">++</span> <span class="o">({</span><span class="n">MedicalImage</span> <span class="o">}</span> <span class="o">++</span> <span class="n">MedicalImage</span><span class="o">.*)</span> 
<span class="o">--</span> <span class="o">({</span> <span class="n">MedicalImage</span><span class="o">.</span><span class="n">MetaDataSupport</span> <span class="o">}</span> <span class="o">++</span> <span class="o">{</span> <span class="n">MedicalImage</span><span class="o">.</span><span class="n">AnonymizedSupport</span> <span class="o">}))</span> 
<span class="o">++</span> <span class="o">({</span> <span class="n">GridDeployment</span><span class="o">.</span><span class="n">GPU</span> <span class="o">}</span> <span class="o">++</span> <span class="n">MIAlgorithm</span><span class="o">.*</span> <span class="o">++</span> <span class="o">{</span> <span class="n">MIAlgorithm</span> <span class="o">})</span>
<span class="n">fmViewMI</span> <span class="o">=</span> <span class="nd">@PYaS</span><span class="o">[</span><span class="kd">slice</span><span class="o">]</span> <span class="n">fmService</span> <span class="nd">@PYaS</span><span class="o">[</span><span class="kd">including</span><span class="o">]</span> <span class="n">viewMI</span>
</pre></div>
