enum cpuSocket {
	lGA1156, 
	aSB1
};
enum screenConnectivity {
	vGA, 
	dVI
};
struct motherBoardSize { 
	int height;  
	int width;
};
root Computer { 
	group [3..*] { 
		Motherboard, 
		CPU, 
		GraphicCard,
 
		opt Accessories
	}	
}

Computer { 

	int price, in [0..100], ifin: sum(selectedchildren.price), ifout: 0;

	ifin: MotherBoard.socket == CPU.socket;


}


MotherBoard {
	int price, ifin: sum(selectedchildren.price); 
	cpuSocket socket;

	motherBoardSize size {
		height, ifin: sum(selectedchildren.size.height);
	    width, ifin: sum(selectedchildren.size.width);
	};
	
	oneof {
	 	Asus {
	    	int price, ifin: 259;
	       	motherBoardSize size { 
	       		height, ifin: 30;
	      		width, ifin: 40;
	      	};

	      	ifin: parent.socket == lGA1156 ; 
	    }
	    Aopen {
	       	int price, ifin: 199;
	       	motherBoardSize size { 
	       		height, ifin: 30;
	      		width, ifin: 40;
	      	};	
	       	ifin: parent.socket == aSB1; 
	    }
	}
} 



CPU
	int price, ifin: sum(selectedchildren.price);
	cpuSocket socket;
	oneof { 
	    CoreI7 {
	      	int price, ifin: 399;
	      	ifin: parent.socket == lGA1156; 
	    	}
      	AthlonNeo {
	      	int price, ifin: 299;	
	      	ifin: parent.socket == aSB1; 
	    }  		
	}


		
GraphicCard {
	int price, ifin: sum(selectedchildren.price);
	screenConnectivity connectivity;
	oneof {

		shared PhilipsScreen
		shared SamsungScreen
	    NVIDIA {
	      	int price, ifin: 199;		
	      	ifin: parent.connectivity == dVI; 
	    }
      	ATI {
	      	int price, ifin: 159;		
	      	ifin: parent.connectivity == vGA; 
	    }
	}
}


Accessories {
	int price, ifin: sum(selectedchildren.price);
	ifin: PhilipsScreen excludes SamsungScreen;
	group [1..2] { 
		opt LogitechKeyboardAndMouse {
			int price, ifin: 19;
		}
		opt PhilipsScreen {
			int price, ifin: 99;	  	  
			ifin: GraphicCard.connectivity == vGA;
		}
		opt SamsungScreen {
			int price, ifin: 149;	  
			ifin: GraphicCard.connectivity == dVI;
		}
	}
}