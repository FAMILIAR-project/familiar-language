root House {
	group oneof {
		Kitchen {
			group allof {
				Door1 {
					enum color;
					enum matter;
				},
				Wall1 {
					enum color;
					enum matter;
				},
				shared DinningRoom.Door2,
				shared Wall2	
			}
		},
		DinningRoom	{
			group allof {
				Door2 {
					enum color;
					enum matter;
				},
				Wall2 {
					enum color;
					enum matter;
				},
				shared Door3,
				shared Wall3
			}
		},
		BarRoom {
			group allof {
				Door3 {
					enum color;
					enum matter;
				},
				Wall3 {
					enum color;
					enum matter;
				},
				shared root.Kitchen.Door1,
				shared Kitchen.Wall1
			}		
		}	
	}	
}

/////////////////////////////////////////////////////////

Door3 {
	parent excludes Kitchen;	
}