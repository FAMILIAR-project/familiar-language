root Vehicle {
	data {
		"Hello" "Hello"
	}
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		Car,
		Bus,
		Truck
	}
	Car excludes this.Bus;
	Car excludes Vehicle.Truck;
	this.Bus excludes root.Car;
	Bus excludes Truck;
	root.Truck excludes this.Car;
	Vehicle.Truck excludes root.Bus;
	ifin: this.Car.Family.Ford.weight == 3;
	ifin: Bus.Mercedes.price == 170000;
}

Car {
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		Sports,
		Family	
	}	
}

Car.Sports {
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		Ferrari {
			real price is 150000;
			real weight is 1.5;	
		}, 
		Porsche {
			real price is 160000;
			real weight is 1;	
		}
	}
}

root.Car.Family {
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		Ford {
			real price is 25000;
			real weight is 3;
		},
		Citroen {
			real price is 22500;
			real weight is 3.5;
		}
	}
}

Vehicle.Bus {
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		Volkswagen {
			real price is 180000;
			real weight is 8;
		},
		Mercedes {
			real price is 170000;
			real weight is 7.5;	
		}
	}
}

Vehicle.Truck {
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		National,
		International
	}
}

root.Truck.National {
	real price;
	real weight;
	ifin: this.Renault.price == 125000;
	group oneof {
		Renault,
		Ford
	}
}

Truck.International {
	real price is sum(selectedchildren.price);
	real weight is sum(selectedchildren.weight);
	group oneof {
		Volvo {
			real price is 195000;
			real weight is 10;
		},
		Mercedes {
			real price is 215000;
			real weight is 13.5;	
		}
	}
}

National {
	group oneof {
		Renault {
			real price is 125000;
			real weight is 5;
			ifin: this.parent.price == 125000;
			ifin: parent.parent.parent.price == 125000;
		},
		Ford{
			real price is 122000;
			real weight is 4.5;
			ifin: parent.price == 122000;
			ifin: this.parent.parent.parent.price == 122000;
		}
	}
}